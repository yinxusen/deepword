
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>deepword package &#8212; DeepWord v4.0 documentation</title>
    <link rel="stylesheet" href="_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="shortcut icon" type="image/png" href="_static/py.png" />
    
    <script type="text/javascript" src="_static/copybutton.js"></script>
    
     

  </head><body>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
    <li><img src="_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.python.org/">Python</a> &#187;</li>
    
    <a href="index.html">DeepWord v4.0 documentation</a> &#187;
    

        <li class="nav-item nav-item-this"><a href="">deepword package</a></li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="deepword-package">
<h1>deepword package<a class="headerlink" href="#deepword-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="deepword.agents.html">deepword.agents package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="deepword.agents.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.agents.html#module-deepword.agents.base_agent">deepword.agents.base_agent module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.agents.html#module-deepword.agents.competition_agent">deepword.agents.competition_agent module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.agents.html#module-deepword.agents.cores">deepword.agents.cores module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.agents.html#module-deepword.agents.dsqn_agent">deepword.agents.dsqn_agent module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.agents.html#module-deepword.agents.gen_agent">deepword.agents.gen_agent module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.agents.html#module-deepword.agents.gen_drrn_agent">deepword.agents.gen_drrn_agent module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.agents.html#module-deepword.agents.utils">deepword.agents.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.agents.html#module-deepword.agents.zork_agent">deepword.agents.zork_agent module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.agents.html#module-deepword.agents">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deepword.models.html">deepword.models package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="deepword.models.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.models.html#module-deepword.models.commonsense_model">deepword.models.commonsense_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.models.html#module-deepword.models.dqn_model">deepword.models.dqn_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.models.html#module-deepword.models.drrn_model">deepword.models.drrn_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.models.html#module-deepword.models.dsqn_model">deepword.models.dsqn_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.models.html#module-deepword.models.export_models">deepword.models.export_models module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.models.html#module-deepword.models.gen_model">deepword.models.gen_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.models.html#module-deepword.models.transformer">deepword.models.transformer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.models.html#module-deepword.models.utils">deepword.models.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.models.html#module-deepword.models">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deepword.students.html">deepword.students package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="deepword.students.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.students.html#module-deepword.students.bert_swag">deepword.students.bert_swag module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.students.html#module-deepword.students.student_learner">deepword.students.student_learner module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.students.html#module-deepword.students.utils">deepword.students.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.students.html#module-deepword.students">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deepword.tests.html">deepword.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="deepword.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tests.html#module-deepword.tests.test_agent_input">deepword.tests.test_agent_input module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tests.html#module-deepword.tests.test_utils">deepword.tests.test_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tests.html#module-deepword.tests">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deepword.tools.html">deepword.tools package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="deepword.tools.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tools.html#module-deepword.tools.build_test_set">deepword.tools.build_test_set module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tools.html#module-deepword.tools.clean_hs2tj">deepword.tools.clean_hs2tj module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tools.html#module-deepword.tools.collect_game_elements">deepword.tools.collect_game_elements module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tools.html#module-deepword.tools.compare_eval_results">deepword.tools.compare_eval_results module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tools.html#module-deepword.tools.diff_train_w_test">deepword.tools.diff_train_w_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tools.html#module-deepword.tools.play_game">deepword.tools.play_game module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tools.html#module-deepword.tools.read_eval_failed_reason">deepword.tools.read_eval_failed_reason module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tools.html#module-deepword.tools.read_eval_results">deepword.tools.read_eval_results module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tools.html#module-deepword.tools.replay_from_log">deepword.tools.replay_from_log module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deepword.tools.html#module-deepword.tools">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-deepword.action">
<span id="deepword-action-module"></span><h2>deepword.action module<a class="headerlink" href="#module-deepword.action" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="deepword.action.ActionCollector">
<em class="property">class </em><code class="sig-prename descclassname">deepword.action.</code><code class="sig-name descname">ActionCollector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tokenizer</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#deepword.tokenizers.Tokenizer" title="deepword.tokenizers.Tokenizer">deepword.tokenizers.Tokenizer</a></span></em>, <em class="sig-param"><span class="n">n_tokens</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">unk_val_id</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">padding_val_id</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.action.ActionCollector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.log.Logging" title="deepword.log.Logging"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.log.Logging</span></code></a></p>
<p>Collect actions for different games</p>
<dl class="py method">
<dt id="deepword.action.ActionCollector.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tokenizer</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#deepword.tokenizers.Tokenizer" title="deepword.tokenizers.Tokenizer">deepword.tokenizers.Tokenizer</a></span></em>, <em class="sig-param"><span class="n">n_tokens</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">unk_val_id</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">padding_val_id</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.action.ActionCollector.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tokenizer</strong> – see <a class="reference internal" href="#module-deepword.tokenizers" title="deepword.tokenizers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">deepword.tokenizers</span></code></a></p></li>
<li><p><strong>n_tokens</strong> – max allowed number of tokens for all actions</p></li>
<li><p><strong>unk_val_id</strong> – ID of the unknown token</p></li>
<li><p><strong>padding_val_id</strong> – ID of the padding token</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.action2idx">
<em class="property">property </em><code class="sig-name descname">action2idx</code><a class="headerlink" href="#deepword.action.ActionCollector.action2idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Current action to token IDs</p>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.action_len">
<em class="property">property </em><code class="sig-name descname">action_len</code><a class="headerlink" href="#deepword.action.ActionCollector.action_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Current action lengths</p>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.action_matrix">
<em class="property">property </em><code class="sig-name descname">action_matrix</code><a class="headerlink" href="#deepword.action.ActionCollector.action_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Current action matrix</p>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.actions">
<em class="property">property </em><code class="sig-name descname">actions</code><a class="headerlink" href="#deepword.action.ActionCollector.actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Current actions in string.</p>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.add_new_episode">
<code class="sig-name descname">add_new_episode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gid</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.action.ActionCollector.add_new_episode" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new episode with game ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>gid</strong> – game ID, a string that separate different games.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">actions</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#deepword.action.ActionCollector.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend actions into ActionCollector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>actions</strong> – a list of actions for current episode of game-playing.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.get_action_len">
<code class="sig-name descname">get_action_len</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gid</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#deepword.action.ActionCollector.get_action_len" title="Permalink to this definition">¶</a></dt>
<dd><p>Get action lengths for a game</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>gid</strong> – game ID, <cite>None</cite> falls back to current episode of game.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an array of int, each element is a length for that action</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.get_action_matrix">
<code class="sig-name descname">get_action_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gid</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#deepword.action.ActionCollector.get_action_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Get action matrix for a game.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>gid</strong> – the game ID. <cite>None</cite> falls back to current activated game.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>an array of actions, each action is a vector of its IDs to tokens</dt><dd><p>that are filled with padding in the end to reach the same token
size.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.get_actions">
<code class="sig-name descname">get_actions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gid</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>str<span class="p">]</span><a class="headerlink" href="#deepword.action.ActionCollector.get_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all actions for a game.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>gid</strong> – game ID, <cite>None</cite> falls back to current episode of game.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of actions in string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.get_game_ids">
<code class="sig-name descname">get_game_ids</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>str<span class="p">]</span><a class="headerlink" href="#deepword.action.ActionCollector.get_game_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all game IDs in this ActionCollector.</p>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.load_actions">
<code class="sig-name descname">load_actions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.action.ActionCollector.load_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Load all actions in this ActionCollector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – a path to a npz file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.action.ActionCollector.save_actions">
<code class="sig-name descname">save_actions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.action.ActionCollector.save_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Save all actions to a path as a npz file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – a npz path to save</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepword.dependency_parser">
<span id="deepword-dependency-parser-module"></span><h2>deepword.dependency_parser module<a class="headerlink" href="#module-deepword.dependency_parser" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="deepword.dependency_parser.DependencyParserReorder">
<em class="property">class </em><code class="sig-prename descclassname">deepword.dependency_parser.</code><code class="sig-name descname">DependencyParserReorder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">padding_val</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">stride_len</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.dependency_parser.DependencyParserReorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.log.Logging" title="deepword.log.Logging"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.log.Logging</span></code></a></p>
<p>Use dependency parser to reorder master sentences.
Make sure to open Stanford CoreNLP server first.
Refer to <a class="reference external" href="https://stanfordnlp.github.io/CoreNLP/corenlp-server.html">https://stanfordnlp.github.io/CoreNLP/corenlp-server.html</a></p>
<p>The DP reorder class is used with CNN layers for trajectory encoding.
Refer to <a class="reference external" href="https://arxiv.org/abs/1905.02265">https://arxiv.org/abs/1905.02265</a> for details.</p>
<dl class="py method">
<dt id="deepword.dependency_parser.DependencyParserReorder.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">padding_val</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">stride_len</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.dependency_parser.DependencyParserReorder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>padding_val</strong> – padding token, e.g. ‘[PAD]’ or ‘O’</p></li>
<li><p><strong>stride_len</strong> – CNN stride len</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.dependency_parser.DependencyParserReorder.reorder">
<code class="sig-name descname">reorder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">master</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#deepword.dependency_parser.DependencyParserReorder.reorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Use dependency parser to reorder a paragraph.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepword.eval_games">
<span id="deepword-eval-games-module"></span><h2>deepword.eval_games module<a class="headerlink" href="#module-deepword.eval_games" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="deepword.eval_games.EvalResult">
<em class="property">class </em><code class="sig-prename descclassname">deepword.eval_games.</code><code class="sig-name descname">EvalResult</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">score</span></em>, <em class="sig-param"><span class="n">positive_score</span></em>, <em class="sig-param"><span class="n">negative_score</span></em>, <em class="sig-param"><span class="n">max_score</span></em>, <em class="sig-param"><span class="n">steps</span></em>, <em class="sig-param"><span class="n">won</span></em>, <em class="sig-param"><span class="n">action_list</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.eval_games.EvalResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.eval_games.EvalResult" title="deepword.eval_games.EvalResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.eval_games.EvalResult</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="deepword.eval_games.FullDirEvalPlayer">
<em class="property">class </em><code class="sig-prename descclassname">deepword.eval_games.</code><code class="sig-name descname">FullDirEvalPlayer</code><a class="headerlink" href="#deepword.eval_games.FullDirEvalPlayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.log.Logging" title="deepword.log.Logging"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.log.Logging</span></code></a></p>
<dl class="py method">
<dt id="deepword.eval_games.FullDirEvalPlayer.start">
<em class="property">classmethod </em><code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span></em>, <em class="sig-param"><span class="n">model_dir</span></em>, <em class="sig-param"><span class="n">game_files</span></em>, <em class="sig-param"><span class="n">n_gpus</span></em>, <em class="sig-param"><span class="n">range_min</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">range_max</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.eval_games.FullDirEvalPlayer.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepword.eval_games.LoopDogEvalPlayer">
<em class="property">class </em><code class="sig-prename descclassname">deepword.eval_games.</code><code class="sig-name descname">LoopDogEvalPlayer</code><a class="headerlink" href="#deepword.eval_games.LoopDogEvalPlayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.log.Logging" title="deepword.log.Logging"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.log.Logging</span></code></a></p>
<dl class="py method">
<dt id="deepword.eval_games.LoopDogEvalPlayer.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span></em>, <em class="sig-param"><span class="n">model_dir</span></em>, <em class="sig-param"><span class="n">game_files</span></em>, <em class="sig-param"><span class="n">n_gpus</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.eval_games.LoopDogEvalPlayer.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepword.eval_games.MultiGPUsEvalPlayer">
<em class="property">class </em><code class="sig-prename descclassname">deepword.eval_games.</code><code class="sig-name descname">MultiGPUsEvalPlayer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span></em>, <em class="sig-param"><span class="n">model_dir</span></em>, <em class="sig-param"><span class="n">game_files</span></em>, <em class="sig-param"><span class="n">n_gpus</span></em>, <em class="sig-param"><span class="n">load_best</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.eval_games.MultiGPUsEvalPlayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.log.Logging" title="deepword.log.Logging"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.log.Logging</span></code></a></p>
<p>Eval Player that runs on multiple GPUs</p>
<dl class="py method">
<dt id="deepword.eval_games.MultiGPUsEvalPlayer.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">restore_from</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">debug</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.eval_games.MultiGPUsEvalPlayer.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate an agent</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>restore_from</strong> – path to restore weights</p></li>
<li><p><strong>debug</strong> – if debug, multi-threads will be disabled</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.eval_games.MultiGPUsEvalPlayer.has_better_model">
<code class="sig-name descname">has_better_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">total_scores</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">total_steps</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#deepword.eval_games.MultiGPUsEvalPlayer.has_better_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not the current model is better</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>total_scores</strong> – total scores earned</p></li>
<li><p><strong>total_steps</strong> – total steps used</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.eval_games.MultiGPUsEvalPlayer.save_best_model">
<code class="sig-name descname">save_best_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">loaded_ckpt_step</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.eval_games.MultiGPUsEvalPlayer.save_best_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy current model to the best model dir</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>loaded_ckpt_step</strong> – which model to copy</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.eval_games.MultiGPUsEvalPlayer.split_game_files">
<em class="property">classmethod </em><code class="sig-name descname">split_game_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">game_files</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">k</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">rnd_seed</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">42</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span><a class="headerlink" href="#deepword.eval_games.MultiGPUsEvalPlayer.split_game_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Split game files into k portions for multi GPUs playing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>game_files</strong> – a list of games for playing</p></li>
<li><p><strong>k</strong> – number of splits</p></li>
<li><p><strong>rnd_seed</strong> – random seed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of list of game files</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepword.eval_games.NewModelHandler">
<em class="property">class </em><code class="sig-prename descclassname">deepword.eval_games.</code><code class="sig-name descname">NewModelHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span></em>, <em class="sig-param"><span class="n">model_dir</span></em>, <em class="sig-param"><span class="n">game_files</span></em>, <em class="sig-param"><span class="n">n_gpus</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.eval_games.NewModelHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">watchdog.events.FileSystemEventHandler</span></code></p>
<dl class="py method">
<dt id="deepword.eval_games.NewModelHandler.is_ckpt_file">
<code class="sig-name descname">is_ckpt_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">src_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.eval_games.NewModelHandler.is_ckpt_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepword.eval_games.NewModelHandler.on_created">
<code class="sig-name descname">on_created</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.eval_games.NewModelHandler.on_created" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when a file or directory is created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DirCreatedEvent</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">FileCreatedEvent</span></code>) – Event representing file/directory creation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.eval_games.NewModelHandler.on_modified">
<code class="sig-name descname">on_modified</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.eval_games.NewModelHandler.on_modified" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when a file or directory is modified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>event</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DirModifiedEvent</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">FileModifiedEvent</span></code>) – Event representing file/directory modification.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.eval_games.NewModelHandler.run_eval_player">
<code class="sig-name descname">run_eval_player</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">restore_from</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">load_best</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.eval_games.NewModelHandler.run_eval_player" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepword.eval_games.WatchDogEvalPlayer">
<em class="property">class </em><code class="sig-prename descclassname">deepword.eval_games.</code><code class="sig-name descname">WatchDogEvalPlayer</code><a class="headerlink" href="#deepword.eval_games.WatchDogEvalPlayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.log.Logging" title="deepword.log.Logging"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.log.Logging</span></code></a></p>
<dl class="py method">
<dt id="deepword.eval_games.WatchDogEvalPlayer.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span></em>, <em class="sig-param"><span class="n">model_dir</span></em>, <em class="sig-param"><span class="n">game_files</span></em>, <em class="sig-param"><span class="n">n_gpus</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.eval_games.WatchDogEvalPlayer.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="deepword.eval_games.agent_collect_data">
<code class="sig-prename descclassname">deepword.eval_games.</code><code class="sig-name descname">agent_collect_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agent</span></em>, <em class="sig-param"><span class="n">game_files</span></em>, <em class="sig-param"><span class="n">max_episode_steps</span></em>, <em class="sig-param"><span class="n">epoch_size</span></em>, <em class="sig-param"><span class="n">epoch_limit</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.eval_games.agent_collect_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="deepword.eval_games.agg_eval_results">
<code class="sig-prename descclassname">deepword.eval_games.</code><code class="sig-name descname">agg_eval_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eval_results</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#deepword.eval_games.EvalResult" title="deepword.eval_games.EvalResult">deepword.eval_games.EvalResult</a><span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">max_steps_per_episode</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">100</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span><a class="reference internal" href="#deepword.eval_games.EvalResult" title="deepword.eval_games.EvalResult">deepword.eval_games.EvalResult</a><span class="p">]</span><span class="p">, </span>float<span class="p">, </span>float<span class="p">, </span>float<span class="p">, </span>float<span class="p">, </span>float<span class="p">, </span>float<span class="p">]</span><a class="headerlink" href="#deepword.eval_games.agg_eval_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate evaluation results.
We run N test games, each with M episodes, each episode has a maximum of
K steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eval_results</strong> – <p>evaluation results of text-based games, in the
following format:</p>
<blockquote>
<div><p>dict(game_name, [eval_result1, …, evaluate_resultM])
and the number of eval_results are the same for all games.
evaluate_result:</p>
<blockquote>
<div><dl class="simple">
<dt>score, positive_score, negative_score, max_score, steps,</dt><dd><p>won (bool), used_action_list</p>
</dd>
</dl>
</div></blockquote>
</div></blockquote>
</p></li>
<li><p><strong>max_steps_per_episode</strong> – i.e. M, default = 100</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict(game_name, sum scores, sum max scores, sum steps, # won)
sample_mean: total earned scores / total maximum scores
confidence_interval: confidence interval of sample_mean over M episodes.
steps: total used steps / total maximum steps</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>agg_per_game</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.eval_games.eval_agent">
<code class="sig-prename descclassname">deepword.eval_games.</code><code class="sig-name descname">eval_agent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em>, <em class="sig-param"><span class="n">model_dir</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">load_best</span><span class="p">:</span> <span class="n">bool</span></em>, <em class="sig-param"><span class="n">restore_from</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">game_files</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">gpu_device</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>List<span class="p">[</span><a class="reference internal" href="#deepword.eval_games.EvalResult" title="deepword.eval_games.EvalResult">deepword.eval_games.EvalResult</a><span class="p">]</span><span class="p">]</span><span class="p">, </span>int<span class="p">]</span><a class="headerlink" href="#deepword.eval_games.eval_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate an agent with given games.
For each game, we run nb_episodes, and max_episode_steps for on episode.</p>
<p>Notice that evaluation game running is different with training.
In training, we register all given games to TextWorld structure, and play
them in a random way.
For evaluation, we register one game at a time, and play it for nb_episodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hp</strong> – hyperparameter to create the agent</p></li>
<li><p><strong>model_dir</strong> – model dir of the agent</p></li>
<li><p><strong>load_best</strong> – bool, load from best_weights or not (last_weights)</p></li>
<li><p><strong>restore_from</strong> – string, load from a specific model,
e.g. {model_dir}/last_weights/after_epoch-0</p></li>
<li><p><strong>game_files</strong> – game files for evaluation</p></li>
<li><p><strong>gpu_device</strong> – which GPU device to load, in a format of “/device:GPU:i”</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>eval_results, loaded_ckpt_step</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.eval_games.scores_of_tiers">
<code class="sig-prename descclassname">deepword.eval_games.</code><code class="sig-name descname">scores_of_tiers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agg_per_game</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span><a class="reference internal" href="#deepword.eval_games.EvalResult" title="deepword.eval_games.EvalResult">deepword.eval_games.EvalResult</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span>str<span class="p">, </span>float<span class="p">]</span><a class="headerlink" href="#deepword.eval_games.scores_of_tiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute scores per tier given aggregated scores per game</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>agg_per_game</strong> – Aggregated results per game</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of tier-name -&gt; scores, starting from tier1 to tier6</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-deepword.floor_plan">
<span id="deepword-floor-plan-module"></span><h2>deepword.floor_plan module<a class="headerlink" href="#module-deepword.floor_plan" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="deepword.floor_plan.FloorPlanCollector">
<em class="property">class </em><code class="sig-prename descclassname">deepword.floor_plan.</code><code class="sig-name descname">FloorPlanCollector</code><a class="headerlink" href="#deepword.floor_plan.FloorPlanCollector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.log.Logging" title="deepword.log.Logging"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.log.Logging</span></code></a></p>
<p>Collect floor plan from games</p>
<dl class="simple">
<dt>e.g. going eastward from kitchen is bedroom, then we know</dt><dd><p>kitchen – east –&gt; bedroom and bedroom – west –&gt; kitchen.</p>
</dd>
</dl>
<dl class="py method">
<dt id="deepword.floor_plan.FloorPlanCollector.add_new_episode">
<code class="sig-name descname">add_new_episode</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">eid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.floor_plan.FloorPlanCollector.add_new_episode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepword.floor_plan.FloorPlanCollector.extend">
<code class="sig-name descname">extend</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fps</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.floor_plan.FloorPlanCollector.extend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepword.floor_plan.FloorPlanCollector.get_map">
<code class="sig-name descname">get_map</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">room</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.floor_plan.FloorPlanCollector.get_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepword.floor_plan.FloorPlanCollector.init">
<code class="sig-name descname">init</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deepword.floor_plan.FloorPlanCollector.init" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepword.floor_plan.FloorPlanCollector.load_fps">
<code class="sig-name descname">load_fps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.floor_plan.FloorPlanCollector.load_fps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepword.floor_plan.FloorPlanCollector.route_to_kitchen">
<code class="sig-name descname">route_to_kitchen</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">room</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.floor_plan.FloorPlanCollector.route_to_kitchen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepword.floor_plan.FloorPlanCollector.route_to_room">
<em class="property">classmethod </em><code class="sig-name descname">route_to_room</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ss</span></em>, <em class="sig-param"><span class="n">tt</span></em>, <em class="sig-param"><span class="n">fp</span></em>, <em class="sig-param"><span class="n">visited</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.floor_plan.FloorPlanCollector.route_to_room" title="Permalink to this definition">¶</a></dt>
<dd><p>find the fastest route to a target room from a given room using DFS.
:param ss: start room
:param tt: target room
:param fp: floor plan
:param visited: initialized by []
:return: directions, rooms</p>
</dd></dl>

<dl class="py method">
<dt id="deepword.floor_plan.FloorPlanCollector.save_fps">
<code class="sig-name descname">save_fps</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.floor_plan.FloorPlanCollector.save_fps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepword.hparams">
<span id="deepword-hparams-module"></span><h2>deepword.hparams module<a class="headerlink" href="#module-deepword.hparams" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="deepword.hparams.Conventions">
<em class="property">class </em><code class="sig-prename descclassname">deepword.hparams.</code><code class="sig-name descname">Conventions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">logo_file</span></em>, <em class="sig-param"><span class="n">bert_ckpt_dir</span></em>, <em class="sig-param"><span class="n">bert_vocab_file</span></em>, <em class="sig-param"><span class="n">nltk_vocab_file</span></em>, <em class="sig-param"><span class="n">glove_vocab_file</span></em>, <em class="sig-param"><span class="n">glove_emb_file</span></em>, <em class="sig-param"><span class="n">legacy_zork_vocab_file</span></em>, <em class="sig-param"><span class="n">albert_ckpt_dir</span></em>, <em class="sig-param"><span class="n">albert_vocab_file</span></em>, <em class="sig-param"><span class="n">albert_spm_path</span></em>, <em class="sig-param"><span class="n">bert_cls_token</span></em>, <em class="sig-param"><span class="n">bert_unk_token</span></em>, <em class="sig-param"><span class="n">bert_padding_token</span></em>, <em class="sig-param"><span class="n">bert_sep_token</span></em>, <em class="sig-param"><span class="n">bert_mask_token</span></em>, <em class="sig-param"><span class="n">bert_sos_token</span></em>, <em class="sig-param"><span class="n">bert_eos_token</span></em>, <em class="sig-param"><span class="n">albert_cls_token</span></em>, <em class="sig-param"><span class="n">albert_unk_token</span></em>, <em class="sig-param"><span class="n">albert_padding_token</span></em>, <em class="sig-param"><span class="n">albert_sep_token</span></em>, <em class="sig-param"><span class="n">albert_mask_token</span></em>, <em class="sig-param"><span class="n">nltk_unk_token</span></em>, <em class="sig-param"><span class="n">nltk_padding_token</span></em>, <em class="sig-param"><span class="n">nltk_sos_token</span></em>, <em class="sig-param"><span class="n">nltk_eos_token</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.hparams.Conventions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.hparams.Conventions" title="deepword.hparams.Conventions"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.hparams.Conventions</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt id="deepword.hparams.copy_hparams">
<code class="sig-prename descclassname">deepword.hparams.</code><code class="sig-name descname">copy_hparams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.contrib.training.python.training.hparam.HParams<a class="headerlink" href="#deepword.hparams.copy_hparams" title="Permalink to this definition">¶</a></dt>
<dd><p>Deepcopy for hp</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.hparams.get_model_hparams">
<code class="sig-prename descclassname">deepword.hparams.</code><code class="sig-name descname">get_model_hparams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_creator</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.contrib.training.python.training.hparam.HParams<a class="headerlink" href="#deepword.hparams.get_model_hparams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="deepword.hparams.has_valid_val">
<code class="sig-prename descclassname">deepword.hparams.</code><code class="sig-name descname">has_valid_val</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dict_args</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">key</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#deepword.hparams.has_valid_val" title="Permalink to this definition">¶</a></dt>
<dd><ol class="arabic simple">
<li><p>if dict_args exists</p></li>
<li><p>if key in dict_args</p></li>
<li><p>if dict_args[key] is not None</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt id="deepword.hparams.load_hparams">
<code class="sig-prename descclassname">deepword.hparams.</code><code class="sig-name descname">load_hparams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fn_model_config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cmd_args</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fn_pre_config</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.contrib.training.python.training.hparam.HParams<a class="headerlink" href="#deepword.hparams.load_hparams" title="Permalink to this definition">¶</a></dt>
<dd><p>load hyper-parameters
priority(file_args) &gt; priority(cmd_args) except arg in allowed_to_change
priority(cmd_args) &gt; priority(pre_config)
priority(pre_config) &gt; priority(default)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn_model_config</strong> – hyperparameter config file in <cite>model_dir</cite></p></li>
<li><p><strong>cmd_args</strong> – command line arguments</p></li>
<li><p><strong>fn_pre_config</strong> – pre config file for model</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>hp</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.hparams.output_hparams">
<code class="sig-prename descclassname">deepword.hparams.</code><code class="sig-name descname">output_hparams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#deepword.hparams.output_hparams" title="Permalink to this definition">¶</a></dt>
<dd><p>pretty print str in a table style for hp</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.hparams.save_hparams">
<code class="sig-prename descclassname">deepword.hparams.</code><code class="sig-name descname">save_hparams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.hparams.save_hparams" title="Permalink to this definition">¶</a></dt>
<dd><p>Save hyperparameters to a json file</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.hparams.update_hparams_from_dict">
<code class="sig-prename descclassname">deepword.hparams.</code><code class="sig-name descname">update_hparams_from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em>, <em class="sig-param"><span class="n">cmd_args</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">allowed_to_change</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>Iterable<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.contrib.training.python.training.hparam.HParams<a class="headerlink" href="#deepword.hparams.update_hparams_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>update hp from a dict
:param hp: hyperparameters
:param cmd_args: command line arguments
:param allowed_to_change: keys that are allowed to update</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a hp</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.hparams.update_hparams_from_file">
<code class="sig-prename descclassname">deepword.hparams.</code><code class="sig-name descname">update_hparams_from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em>, <em class="sig-param"><span class="n">file_args</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.contrib.training.python.training.hparam.HParams<a class="headerlink" href="#deepword.hparams.update_hparams_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>update hp from a json file</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.hparams.update_hparams_from_hparams">
<code class="sig-prename descclassname">deepword.hparams.</code><code class="sig-name descname">update_hparams_from_hparams</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em>, <em class="sig-param"><span class="n">hp2</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.contrib.training.python.training.hparam.HParams<a class="headerlink" href="#deepword.hparams.update_hparams_from_hparams" title="Permalink to this definition">¶</a></dt>
<dd><p>update hp from hp2
hp should not have same keys with hp2</p>
</dd></dl>

</div>
<div class="section" id="module-deepword.log">
<span id="deepword-log-module"></span><h2>deepword.log module<a class="headerlink" href="#module-deepword.log" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="deepword.log.Logging">
<em class="property">class </em><code class="sig-prename descclassname">deepword.log.</code><code class="sig-name descname">Logging</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.log.Logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Logging utils for classes</p>
<dl class="py method">
<dt id="deepword.log.Logging.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.log.Logging.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – name for logging, default module_name.class_name</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.log.Logging.debug">
<code class="sig-name descname">debug</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.log.Logging.debug" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepword.log.Logging.error">
<code class="sig-name descname">error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.log.Logging.error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepword.log.Logging.info">
<code class="sig-name descname">info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.log.Logging.info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="deepword.log.Logging.warning">
<code class="sig-name descname">warning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.log.Logging.warning" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepword.main">
<span id="deepword-main-module"></span><h2>deepword.main module<a class="headerlink" href="#module-deepword.main" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="deepword.main.eval_one_ckpt">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">eval_one_ckpt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span></em>, <em class="sig-param"><span class="n">model_dir</span></em>, <em class="sig-param"><span class="n">data_path</span></em>, <em class="sig-param"><span class="n">learner_clazz</span></em>, <em class="sig-param"><span class="n">device</span></em>, <em class="sig-param"><span class="n">ckpt_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.main.eval_one_ckpt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="deepword.main.get_parser">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">get_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; argparse.ArgumentParser<a class="headerlink" href="#deepword.main.get_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Get arg parser for different modules</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.main.hp_parser">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">hp_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; argparse.ArgumentParser<a class="headerlink" href="#deepword.main.hp_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Arg parser for hyper-parameters</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.main.main">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.main.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="deepword.main.process_eval_dqn">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">process_eval_dqn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.main.process_eval_dqn" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate dqn models</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.main.process_eval_student">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">process_eval_student</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.main.process_eval_student" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate student models</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.main.process_gen_data">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">process_gen_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.main.process_gen_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate training data from a teacher model</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.main.process_hp">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">process_hp</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span> &#x2192; tensorflow.contrib.training.python.training.hparam.HParams<a class="headerlink" href="#deepword.main.process_hp" title="Permalink to this definition">¶</a></dt>
<dd><p>Load hyperparameters from three location
1. config file in <cite>model_dir</cite>
2. pre config files
3. cmd line args</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> – cmd line args</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>hyperparameters</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.main.process_train_dqn">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">process_train_dqn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.main.process_train_dqn" title="Permalink to this definition">¶</a></dt>
<dd><p>Train DQN models</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.main.process_train_student">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">process_train_student</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.main.process_train_student" title="Permalink to this definition">¶</a></dt>
<dd><p>Train student models</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.main.run_agent">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">run_agent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agent</span><span class="p">:</span> <span class="n"><a class="reference internal" href="deepword.agents.html#deepword.agents.base_agent.BaseAgent" title="deepword.agents.base_agent.BaseAgent">deepword.agents.base_agent.BaseAgent</a></span></em>, <em class="sig-param"><span class="n">game_env</span><span class="p">:</span> <span class="n">gym.core.Env</span></em>, <em class="sig-param"><span class="n">nb_games</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">nb_epochs</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.main.run_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a train agent on given games.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>agent</strong> – an agent extends the base agent,
see <a class="reference internal" href="deepword.agents.html#deepword.agents.base_agent.BaseAgent" title="deepword.agents.base_agent.BaseAgent"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.agents.base_agent.BaseAgent</span></code></a>.</p></li>
<li><p><strong>game_env</strong> – game Env, from gym</p></li>
<li><p><strong>nb_games</strong> – number of games</p></li>
<li><p><strong>nb_epochs</strong> – number of epochs for training</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.main.run_agent_v2">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">run_agent_v2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">agent</span><span class="p">:</span> <span class="n"><a class="reference internal" href="deepword.agents.html#deepword.agents.base_agent.BaseAgent" title="deepword.agents.base_agent.BaseAgent">deepword.agents.base_agent.BaseAgent</a></span></em>, <em class="sig-param"><span class="n">game_env</span><span class="p">:</span> <span class="n">gym.core.Env</span></em>, <em class="sig-param"><span class="n">nb_games</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">nb_epochs</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.main.run_agent_v2" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a train agent on given games.
Proactively request <cite>look</cite> and <cite>inventory</cite> results from games to substitute
the description and inventory parts of infos.
This is useful when games don’t provide description and inventory, e.g. for
Z-machine games.</p>
<p>NB: This will incur extra steps for game playing, remember to use 3-times of
previous step quota. E.g. previously use 100 max steps, now you need 100 * 3
max steps.</p>
<p>See <a class="reference internal" href="#deepword.main.run_agent" title="deepword.main.run_agent"><code class="xref py py-func docutils literal notranslate"><span class="pre">deepword.main.run_agent()</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt id="deepword.main.train">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">train</code><span class="sig-paren">(</span><em class="sig-param">hp: tensorflow.contrib.training.python.training.hparam.HParams, model_dir: str, game_dir: str, f_games: Optional[str] = None, func_run_agent: Callable[[deepword.agents.base_agent.BaseAgent, gym.core.Env, int, int], None] = &lt;function run_agent&gt;</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.main.train" title="Permalink to this definition">¶</a></dt>
<dd><p>train an agent</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hp</strong> – hyper-parameters see <a class="reference internal" href="#module-deepword.hparams" title="deepword.hparams"><code class="xref py py-mod docutils literal notranslate"><span class="pre">deepword.hparams</span></code></a></p></li>
<li><p><strong>model_dir</strong> – model dir</p></li>
<li><p><strong>game_dir</strong> – game dir with ulx games</p></li>
<li><p><strong>f_games</strong> – game name to select from <cite>game_dir</cite></p></li>
<li><p><strong>func_run_agent</strong> – how to run the agent and games,
see <a class="reference internal" href="#deepword.main.run_agent" title="deepword.main.run_agent"><code class="xref py py-func docutils literal notranslate"><span class="pre">deepword.main.run_agent()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.main.train_v2">
<code class="sig-prename descclassname">deepword.main.</code><code class="sig-name descname">train_v2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span></em>, <em class="sig-param"><span class="n">model_dir</span></em>, <em class="sig-param"><span class="n">game_dir</span></em>, <em class="sig-param"><span class="n">f_games</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.main.train_v2" title="Permalink to this definition">¶</a></dt>
<dd><p>Train DQN agents by proactively requesting description and inventory</p>
<p>max step per episode will be enlarged by 3-times.</p>
<p>see <a class="reference internal" href="#deepword.main.train" title="deepword.main.train"><code class="xref py py-func docutils literal notranslate"><span class="pre">deepword.main.train()</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-deepword.stats">
<span id="deepword-stats-module"></span><h2>deepword.stats module<a class="headerlink" href="#module-deepword.stats" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="deepword.stats.UCBComputer">
<em class="property">class </em><code class="sig-prename descclassname">deepword.stats.</code><code class="sig-name descname">UCBComputer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d_states</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">d_actions</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.stats.UCBComputer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Compute the Upper Confidence Bound actions during game playing at inference
time only, when hidden states are fixed.</p>
<dl>
<dt>The Abbasi-Yadkori, Pal, and Szepesvari bound for LinUCB.</dt><dd><dl class="simple">
<dt>Cite: Improved Algorithms for Linear Stochastic Bandits,</dt><dd><p>(Abbasi-Yadkori, Pal, and Szepesvari, 2011)</p>
</dd>
</dl>
<p>See also: Learn What Not to Learn, (Tom Zahavy et al., 2019)</p>
</dd>
</dl>
<p>We use the APS bound.</p>
<dl class="py method">
<dt id="deepword.stats.UCBComputer.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d_states</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">d_actions</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.stats.UCBComputer.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>V: covariance matrix for each action a
lam: lambda to control parameter size in ridge regression
r: R-sub-Gaussian
s: bound for <a href="#id1"><span class="problematic" id="id2">|</span></a>theta_a|_2
delta: with probability of 1 - delta, we have the bound</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d_states</strong> – dimension of hidden states</p></li>
<li><p><strong>d_actions</strong> – number of actions</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.stats.UCBComputer.aps_bound">
<code class="sig-name descname">aps_bound</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">q_actions</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">h_state</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; float<a class="headerlink" href="#deepword.stats.UCBComputer.aps_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute APS bound</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q_actions</strong> – Q-vector of actions</p></li>
<li><p><strong>h_state</strong> – hidden state of a game state</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>upper confidence bound of q_actions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.stats.UCBComputer.collect_sample">
<code class="sig-name descname">collect_sample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">action_idx</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">h_state</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.stats.UCBComputer.collect_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect state-action pairs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action_idx</strong> – action index</p></li>
<li><p><strong>h_state</strong> – hidden state vector</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.stats.UCBComputer.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.stats.UCBComputer.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset to accept new episodes</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="deepword.stats.mean_confidence_interval">
<code class="sig-prename descclassname">deepword.stats.</code><code class="sig-name descname">mean_confidence_interval</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">confidence</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.95</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span><a class="headerlink" href="#deepword.stats.mean_confidence_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Given data, 1D np array, compute the mean and confidence intervals given
confidence level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 1D np array</p></li>
<li><p><strong>confidence</strong> – confidence level</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mean and confidence interval</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-deepword.sum_tree">
<span id="deepword-sum-tree-module"></span><h2>deepword.sum_tree module<a class="headerlink" href="#module-deepword.sum_tree" title="Permalink to this headline">¶</a></h2>
<p>This SumTree code is modified version of Morvan Zhou:
<a class="reference external" href="https://github.com/MorvanZhou/Reinforcement-learning-with-tensorflow/blob/master/contents/5.2_Prioritized_Replay_DQN/RL_brain.py">https://github.com/MorvanZhou/Reinforcement-learning-with-tensorflow/blob/master/contents/5.2_Prioritized_Replay_DQN/RL_brain.py</a></p>
<dl class="py class">
<dt id="deepword.sum_tree.SumTree">
<em class="property">class </em><code class="sig-prename descclassname">deepword.sum_tree.</code><code class="sig-name descname">SumTree</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.sum_tree.SumTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Generic</span></code></p>
<p>The SumTree is a binary tree, with leaf nodes containing the real data.</p>
<dl class="py method">
<dt id="deepword.sum_tree.SumTree.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">priority</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">data</span><span class="p">:</span> <span class="n">E</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.sum_tree.SumTree.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an experience into the tree with a priority</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>priority</strong> – priority of sampling</p></li>
<li><p><strong>data</strong> – experience of the replay</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>old data at the same position, 0 if unset</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.sum_tree.SumTree.get_leaf">
<code class="sig-name descname">get_leaf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>int<span class="p">, </span>float<span class="p">, </span>E<span class="p">]</span><a class="headerlink" href="#deepword.sum_tree.SumTree.get_leaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a leaf_index w.r.t. a priority value
the selected leaf_index must have the smallest priority among all leaves
that have larger priority values than v.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>v</strong> – a priority value</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>leaf index, priority, and experience associated with the leaf index</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.sum_tree.SumTree.total_priority">
<em class="property">property </em><code class="sig-name descname">total_priority</code><a class="headerlink" href="#deepword.sum_tree.SumTree.total_priority" title="Permalink to this definition">¶</a></dt>
<dd><p>The total priority is the value on the root node.</p>
</dd></dl>

<dl class="py method">
<dt id="deepword.sum_tree.SumTree.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree_index</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">priority</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.sum_tree.SumTree.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the leaf priority score and propagate the change through tree</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tree_index</strong> – tree index of the current data_pointer</p></li>
<li><p><strong>priority</strong> – priority sampling value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepword.tokenizers">
<span id="deepword-tokenizers-module"></span><h2>deepword.tokenizers module<a class="headerlink" href="#module-deepword.tokenizers" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="deepword.tokenizers.AlbertTokenizer">
<em class="property">class </em><code class="sig-prename descclassname">deepword.tokenizers.</code><code class="sig-name descname">AlbertTokenizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vocab_file</span></em>, <em class="sig-param"><span class="n">do_lower_case</span></em>, <em class="sig-param"><span class="n">spm_model_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.AlbertTokenizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.tokenizers.BertTokenizer" title="deepword.tokenizers.BertTokenizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.tokenizers.BertTokenizer</span></code></a></p>
<p>The tokenizer from Albert</p>
<dl class="py method">
<dt id="deepword.tokenizers.AlbertTokenizer.de_tokenize">
<code class="sig-name descname">de_tokenize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ids</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.AlbertTokenizer.de_tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>turn a list of ids</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ids</strong> – ids of tokens</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a string</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepword.tokenizers.BertTokenizer">
<em class="property">class </em><code class="sig-prename descclassname">deepword.tokenizers.</code><code class="sig-name descname">BertTokenizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vocab_file</span></em>, <em class="sig-param"><span class="n">do_lower_case</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.BertTokenizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.tokenizers.Tokenizer" title="deepword.tokenizers.Tokenizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.tokenizers.Tokenizer</span></code></a></p>
<p>The tokenizer from BERT</p>
<dl class="py method">
<dt id="deepword.tokenizers.BertTokenizer.convert_ids_to_tokens">
<code class="sig-name descname">convert_ids_to_tokens</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ids</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.BertTokenizer.convert_ids_to_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>convert ids to tokens</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ids</strong> – a list of ids</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of tokens</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.BertTokenizer.convert_tokens_to_ids">
<code class="sig-name descname">convert_tokens_to_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tokens</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.BertTokenizer.convert_tokens_to_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>convert tokens into ids</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tokens</strong> – a list of tokens</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of ids</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.BertTokenizer.de_tokenize">
<code class="sig-name descname">de_tokenize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ids</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.BertTokenizer.de_tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>turn a list of ids</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ids</strong> – ids of tokens</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.BertTokenizer.inv_vocab">
<em class="property">property </em><code class="sig-name descname">inv_vocab</code><a class="headerlink" href="#deepword.tokenizers.BertTokenizer.inv_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>inverse of vocabulary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>map from positions (ids) to tokens</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.BertTokenizer.tokenize">
<code class="sig-name descname">tokenize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.BertTokenizer.tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>tokenize a text into a list of tokens</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> – a string to tokenize</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of tokens</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.BertTokenizer.vocab">
<em class="property">property </em><code class="sig-name descname">vocab</code><a class="headerlink" href="#deepword.tokenizers.BertTokenizer.vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>get the vocabulary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>map from tokens to positions (ids)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepword.tokenizers.LegacyZorkTokenizer">
<em class="property">class </em><code class="sig-prename descclassname">deepword.tokenizers.</code><code class="sig-name descname">LegacyZorkTokenizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vocab_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.LegacyZorkTokenizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.tokenizers.NLTKTokenizer" title="deepword.tokenizers.NLTKTokenizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.tokenizers.NLTKTokenizer</span></code></a></p>
<p>the NLTK tokenizer but keep only alphabetic strings by removing all other
tokens w/ non-alphabetic characters.</p>
<dl class="py method">
<dt id="deepword.tokenizers.LegacyZorkTokenizer.tokenize">
<code class="sig-name descname">tokenize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.LegacyZorkTokenizer.tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>tokenize a text into a list of tokens</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> – a string to tokenize</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of tokens</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepword.tokenizers.NLTKTokenizer">
<em class="property">class </em><code class="sig-prename descclassname">deepword.tokenizers.</code><code class="sig-name descname">NLTKTokenizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vocab_file</span></em>, <em class="sig-param"><span class="n">do_lower_case</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.NLTKTokenizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.tokenizers.Tokenizer" title="deepword.tokenizers.Tokenizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.tokenizers.Tokenizer</span></code></a></p>
<p>wrapper of the tokenizer from NLTK package</p>
<dl class="py method">
<dt id="deepword.tokenizers.NLTKTokenizer.convert_ids_to_tokens">
<code class="sig-name descname">convert_ids_to_tokens</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ids</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.NLTKTokenizer.convert_ids_to_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>convert ids to tokens</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ids</strong> – a list of ids</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of tokens</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.NLTKTokenizer.convert_tokens_to_ids">
<code class="sig-name descname">convert_tokens_to_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tokens</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.NLTKTokenizer.convert_tokens_to_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>convert tokens into ids</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tokens</strong> – a list of tokens</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of ids</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.NLTKTokenizer.de_tokenize">
<code class="sig-name descname">de_tokenize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ids</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#deepword.tokenizers.NLTKTokenizer.de_tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>turn a list of ids</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ids</strong> – ids of tokens</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.NLTKTokenizer.inv_vocab">
<em class="property">property </em><code class="sig-name descname">inv_vocab</code><a class="headerlink" href="#deepword.tokenizers.NLTKTokenizer.inv_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>inverse of vocabulary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>map from positions (ids) to tokens</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.NLTKTokenizer.tokenize">
<code class="sig-name descname">tokenize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tokenizers.NLTKTokenizer.tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>tokenize a text into a list of tokens</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> – a string to tokenize</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of tokens</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.NLTKTokenizer.vocab">
<em class="property">property </em><code class="sig-name descname">vocab</code><a class="headerlink" href="#deepword.tokenizers.NLTKTokenizer.vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>get the vocabulary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>map from tokens to positions (ids)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="deepword.tokenizers.Tokenizer">
<em class="property">class </em><code class="sig-prename descclassname">deepword.tokenizers.</code><code class="sig-name descname">Tokenizer</code><a class="headerlink" href="#deepword.tokenizers.Tokenizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A wrapper of tokenizer</p>
<dl class="py method">
<dt id="deepword.tokenizers.Tokenizer.convert_ids_to_tokens">
<code class="sig-name descname">convert_ids_to_tokens</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ids</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>str<span class="p">]</span><a class="headerlink" href="#deepword.tokenizers.Tokenizer.convert_ids_to_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>convert ids to tokens</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ids</strong> – a list of ids</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of tokens</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.Tokenizer.convert_tokens_to_ids">
<code class="sig-name descname">convert_tokens_to_ids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tokens</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>int<span class="p">]</span><a class="headerlink" href="#deepword.tokenizers.Tokenizer.convert_tokens_to_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>convert tokens into ids</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tokens</strong> – a list of tokens</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of ids</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.Tokenizer.de_tokenize">
<code class="sig-name descname">de_tokenize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ids</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#deepword.tokenizers.Tokenizer.de_tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>turn a list of ids</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ids</strong> – ids of tokens</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.Tokenizer.inv_vocab">
<em class="property">property </em><code class="sig-name descname">inv_vocab</code><a class="headerlink" href="#deepword.tokenizers.Tokenizer.inv_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>inverse of vocabulary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>map from positions (ids) to tokens</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.Tokenizer.tokenize">
<code class="sig-name descname">tokenize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>str<span class="p">]</span><a class="headerlink" href="#deepword.tokenizers.Tokenizer.tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>tokenize a text into a list of tokens</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> – a string to tokenize</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of tokens</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tokenizers.Tokenizer.vocab">
<em class="property">property </em><code class="sig-name descname">vocab</code><a class="headerlink" href="#deepword.tokenizers.Tokenizer.vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>get the vocabulary</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>map from tokens to positions (ids)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="deepword.tokenizers.get_albert_tokenizer">
<code class="sig-prename descclassname">deepword.tokenizers.</code><code class="sig-name descname">get_albert_tokenizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>tensorflow.contrib.training.python.training.hparam.HParams<span class="p">, </span><a class="reference internal" href="#deepword.tokenizers.Tokenizer" title="deepword.tokenizers.Tokenizer">deepword.tokenizers.Tokenizer</a><span class="p">]</span><a class="headerlink" href="#deepword.tokenizers.get_albert_tokenizer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="deepword.tokenizers.get_bert_tokenizer">
<code class="sig-prename descclassname">deepword.tokenizers.</code><code class="sig-name descname">get_bert_tokenizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>tensorflow.contrib.training.python.training.hparam.HParams<span class="p">, </span><a class="reference internal" href="#deepword.tokenizers.Tokenizer" title="deepword.tokenizers.Tokenizer">deepword.tokenizers.Tokenizer</a><span class="p">]</span><a class="headerlink" href="#deepword.tokenizers.get_bert_tokenizer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="deepword.tokenizers.get_nltk_tokenizer">
<code class="sig-prename descclassname">deepword.tokenizers.</code><code class="sig-name descname">get_nltk_tokenizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em>, <em class="sig-param"><span class="n">vocab_file</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'/Users/xusenyin/git-store/deepword/python/deepword/../../resources/vocab.txt'</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>tensorflow.contrib.training.python.training.hparam.HParams<span class="p">, </span><a class="reference internal" href="#deepword.tokenizers.Tokenizer" title="deepword.tokenizers.Tokenizer">deepword.tokenizers.Tokenizer</a><span class="p">]</span><a class="headerlink" href="#deepword.tokenizers.get_nltk_tokenizer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="deepword.tokenizers.get_zork_tokenizer">
<code class="sig-prename descclassname">deepword.tokenizers.</code><code class="sig-name descname">get_zork_tokenizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em>, <em class="sig-param"><span class="n">vocab_file</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'/Users/xusenyin/local/opt/legacy-zork-vocab.txt'</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>tensorflow.contrib.training.python.training.hparam.HParams<span class="p">, </span><a class="reference internal" href="#deepword.tokenizers.Tokenizer" title="deepword.tokenizers.Tokenizer">deepword.tokenizers.Tokenizer</a><span class="p">]</span><a class="headerlink" href="#deepword.tokenizers.get_zork_tokenizer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="deepword.tokenizers.init_tokens">
<code class="sig-prename descclassname">deepword.tokenizers.</code><code class="sig-name descname">init_tokens</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hp</span><span class="p">:</span> <span class="n">tensorflow.contrib.training.python.training.hparam.HParams</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>tensorflow.contrib.training.python.training.hparam.HParams<span class="p">, </span><a class="reference internal" href="#deepword.tokenizers.Tokenizer" title="deepword.tokenizers.Tokenizer">deepword.tokenizers.Tokenizer</a><span class="p">]</span><a class="headerlink" href="#deepword.tokenizers.init_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a tokenizer given hyperparameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hp</strong> – hyperparameters, see <a class="reference internal" href="#module-deepword.hparams" title="deepword.hparams"><code class="xref py py-mod docutils literal notranslate"><span class="pre">deepword.hparams</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>updated hp, tokenizer</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-deepword.trajectory">
<span id="deepword-trajectory-module"></span><h2>deepword.trajectory module<a class="headerlink" href="#module-deepword.trajectory" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="deepword.trajectory.Trajectory">
<em class="property">class </em><code class="sig-prename descclassname">deepword.trajectory.</code><code class="sig-name descname">Trajectory</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.trajectory.Trajectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Generic</span></code></p>
<p>BaseTrajectory only takes care of interacting with Agent on collecting
game scripts.
Fetching data from Trajectory feeding into Encoder should be implemented
in extended classes.</p>
<dl class="py method">
<dt id="deepword.trajectory.Trajectory.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_turns</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">size_per_turn</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.trajectory.Trajectory.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the ActionMaster (AM) as an example,
Trajectory(AM1, AM2, AM3, AM4, AM5), and last_sid points to AM5;
num_turns = 1 means we choose [AM4, AM5];</p>
<p>size_per_turn only controls the way we separate pre- and post-trajectory
default with size_per_turn = 1, AM4 is the pre-trajectory of AM5.</p>
<p>Sometimes we need to change it, e.g. with legacy data where we store
trajectory as Trajectory(M1, A1, M2, A2, M3, A3, M4), and the last
sid points to M4, then the pre-trajectory of [A3, M4] is [A2, M3],
that’s why the size_per_turn should set to 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_turns</strong> – how many turns to choose other than current turn</p></li>
<li><p><strong>size_per_turn</strong> – how many cells count as one turn</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.trajectory.Trajectory.add_new_tj">
<code class="sig-name descname">add_new_tj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tid</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>int<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#deepword.trajectory.Trajectory.add_new_tj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a new trajectory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tid</strong> – trajectory id, <cite>None</cite> falls back to auto-generated id.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a tid</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.trajectory.Trajectory.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">content</span><span class="p">:</span> <span class="n">T</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.trajectory.Trajectory.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Use generic type for content
the trajectory class doesn’t care what has been stored
and also doesn’t process them</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>content</strong> – something to add in the current trajectory</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.trajectory.Trajectory.fetch_batch_pre_states">
<code class="sig-name descname">fetch_batch_pre_states</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">b_tid</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">b_sid</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>List<span class="p">[</span>T<span class="p">]</span><span class="p">]</span><a class="headerlink" href="#deepword.trajectory.Trajectory.fetch_batch_pre_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a batch of pre-states given trajectory ids and state ids</p>
<p>the position of pre-states is depend on <cite>size_per_turn</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>b_tid</strong> – a batch of trajectory ids</p></li>
<li><p><strong>b_sid</strong> – a batch of state ids</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of lists of contents</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.trajectory.Trajectory.fetch_batch_states">
<code class="sig-name descname">fetch_batch_states</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">b_tid</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">b_sid</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>List<span class="p">[</span>T<span class="p">]</span><span class="p">]</span><a class="headerlink" href="#deepword.trajectory.Trajectory.fetch_batch_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a batch of states given trajectory ids and state ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>b_tid</strong> – a batch of trajectory ids</p></li>
<li><p><strong>b_sid</strong> – a batch of state ids</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of lists of contents</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.trajectory.Trajectory.fetch_last_state">
<code class="sig-name descname">fetch_last_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>T<span class="p">]</span><a class="headerlink" href="#deepword.trajectory.Trajectory.fetch_last_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the last state from the current trajectory</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of contents</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.trajectory.Trajectory.fetch_state_by_idx">
<code class="sig-name descname">fetch_state_by_idx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tid</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">sid</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>T<span class="p">]</span><a class="headerlink" href="#deepword.trajectory.Trajectory.fetch_state_by_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>fetch a state given trajectory id and state id</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of contents</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.trajectory.Trajectory.get_current_tid">
<code class="sig-name descname">get_current_tid</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#deepword.trajectory.Trajectory.get_current_tid" title="Permalink to this definition">¶</a></dt>
<dd><p>Get current trajectory id</p>
</dd></dl>

<dl class="py method">
<dt id="deepword.trajectory.Trajectory.get_last_sid">
<code class="sig-name descname">get_last_sid</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#deepword.trajectory.Trajectory.get_last_sid" title="Permalink to this definition">¶</a></dt>
<dd><p>A state is defined as a series of interactions between a game and an
agent ended with the game’s last response.
e.g. “G0, A1, G2, A3, G4” is a state ended with the game’s last response
named “G4”.</p>
</dd></dl>

<dl class="py method">
<dt id="deepword.trajectory.Trajectory.load_tjs">
<code class="sig-name descname">load_tjs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.trajectory.Trajectory.load_tjs" title="Permalink to this definition">¶</a></dt>
<dd><p>Load trajectories from a npz file</p>
</dd></dl>

<dl class="py method">
<dt id="deepword.trajectory.Trajectory.request_delete_keys">
<code class="sig-name descname">request_delete_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ks</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.trajectory.Trajectory.request_delete_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Request to delete all trajectories with keys in <cite>ks</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ks</strong> – a list of keys of trajectories to be deleted</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.trajectory.Trajectory.save_tjs">
<code class="sig-name descname">save_tjs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.trajectory.Trajectory.save_tjs" title="Permalink to this definition">¶</a></dt>
<dd><p>Save all trajectories in a npz file</p>
<p>All trajectory ids, all trajectories, current trajectory id, and
current trajectory will be saved.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepword.tree_memory">
<span id="deepword-tree-memory-module"></span><h2>deepword.tree_memory module<a class="headerlink" href="#module-deepword.tree_memory" title="Permalink to this headline">¶</a></h2>
<p>This SumTree code is modified version and the original code is from:
<a class="reference external" href="https://github.com/jaara/AI-blog/blob/master/Seaquest-DDQN-PER.py">https://github.com/jaara/AI-blog/blob/master/Seaquest-DDQN-PER.py</a></p>
<dl class="py class">
<dt id="deepword.tree_memory.TreeMemory">
<em class="property">class </em><code class="sig-prename descclassname">deepword.tree_memory.</code><code class="sig-name descname">TreeMemory</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.tree_memory.TreeMemory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#deepword.log.Logging" title="deepword.log.Logging"><code class="xref py py-class docutils literal notranslate"><span class="pre">deepword.log.Logging</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Generic</span></code></p>
<p>TreeMemory to store and sample experiences to replay.</p>
<dl class="py method">
<dt id="deepword.tree_memory.TreeMemory.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">experience</span><span class="p">:</span> <span class="n">E</span></em><span class="sig-paren">)</span> &#x2192; E<a class="headerlink" href="#deepword.tree_memory.TreeMemory.append" title="Permalink to this definition">¶</a></dt>
<dd><p>New experiences have a score of max priority over all leaves to make
sure to be sampled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>experience</strong> – a new experience</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>previous experience in the same position</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tree_memory.TreeMemory.batch_update">
<code class="sig-name descname">batch_update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tree_idx</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">abs_errors</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.tree_memory.TreeMemory.batch_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the priorities on the tree</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tree_idx</strong> – an array of index (int)</p></li>
<li><p><strong>abs_errors</strong> – an array of abs errors (float)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tree_memory.TreeMemory.load_memo">
<code class="sig-name descname">load_memo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.tree_memory.TreeMemory.load_memo" title="Permalink to this definition">¶</a></dt>
<dd><p>load memo only apply to a new memo without any appending.
load memo will change previous tree structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – a npz file to load</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tree_memory.TreeMemory.sample_batch">
<code class="sig-name descname">sample_batch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>numpy.ndarray<span class="p">, </span>List<span class="p">[</span>E<span class="p">]</span><span class="p">, </span>numpy.ndarray<span class="p">]</span><a class="headerlink" href="#deepword.tree_memory.TreeMemory.sample_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample a batch of experiences according to priority values</p>
<ul class="simple">
<li><p>First, to sample a batch of n size, the range [0, priority_total] is
divided into n equally ranges.</p></li>
<li><p>Then a value is uniformly sampled from each range</p></li>
<li><p>We search in the <cite>SumTree</cite>, the experience where priority score
correspond to sample values are retrieved from.</p></li>
<li><p>Then, we calculate importance sampling (IS) weights
for each element in the batch</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> – batch size</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tree index, experiences, IS weights</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tree_memory.TreeMemory.save_memo">
<code class="sig-name descname">save_memo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.tree_memory.TreeMemory.save_memo" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the memory to a npz file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – path to a npz file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="deepword.tree_memory.TreeMemory.uniform_sample_batch">
<code class="sig-name descname">uniform_sample_batch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">n</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#deepword.tree_memory.TreeMemory.uniform_sample_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly sample a batch of experiences</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> – batch size</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a batch of experiences</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-deepword.utils">
<span id="deepword-utils-module"></span><h2>deepword.utils module<a class="headerlink" href="#module-deepword.utils" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="deepword.utils.agent_name2clazz">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">agent_name2clazz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.utils.agent_name2clazz" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the class given the agent name in this package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – Agent name from <a class="reference internal" href="deepword.agents.html#module-deepword.agents" title="deepword.agents"><code class="xref py py-mod docutils literal notranslate"><span class="pre">deepword.agents</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the class w.r.t. the agent name</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.bytes2idx">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">bytes2idx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">byte_mask</span><span class="p">:</span> <span class="n">List<span class="p">[</span>bytes<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">size</span><span class="p">:</span> <span class="n">int</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#deepword.utils.bytes2idx" title="Permalink to this definition">¶</a></dt>
<dd><p>load a list of bytes to choose <cite>1</cite> for selected actions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>byte_mask</strong> – a list of bytes</p></li>
<li><p><strong>size</strong> – the size of total actions</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an np array of indices</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.core_name2clazz">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">core_name2clazz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.utils.core_name2clazz" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the class given the core name in this package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – Agent name from <a class="reference internal" href="deepword.agents.html#module-deepword.agents.cores" title="deepword.agents.cores"><code class="xref py py-mod docutils literal notranslate"><span class="pre">deepword.agents.cores</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the class w.r.t. the core name</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.ctime">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">ctime</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="headerlink" href="#deepword.utils.ctime" title="Permalink to this definition">¶</a></dt>
<dd><p>current time in millisecond</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.eprint">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">eprint</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.utils.eprint" title="Permalink to this definition">¶</a></dt>
<dd><p>print to stderr</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.flatmap">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">flatmap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em>, <em class="sig-param"><span class="n">items</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.utils.flatmap" title="Permalink to this definition">¶</a></dt>
<dd><p>flatmap for python</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.flatten">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">flatten</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">items</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.utils.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>flatten a list of lists to a list</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.get_hash">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">get_hash</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">txt</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#deepword.utils.get_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>get hex hash value for a string</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.get_token2idx">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">get_token2idx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tokens</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span>str<span class="p">, </span>int<span class="p">]</span><a class="headerlink" href="#deepword.utils.get_token2idx" title="Permalink to this definition">¶</a></dt>
<dd><p>From a list of tokens to a dict of token to position</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.learner_name2clazz">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">learner_name2clazz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.utils.learner_name2clazz" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the class given the learner name in this package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – Learner name from <a class="reference internal" href="deepword.students.html#module-deepword.students" title="deepword.students"><code class="xref py py-mod docutils literal notranslate"><span class="pre">deepword.students</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the class w.r.t. the learner name</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.load_actions">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">load_actions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">action_file</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>str<span class="p">]</span><a class="headerlink" href="#deepword.utils.load_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Load unique actions from an action file</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.load_and_split">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">load_and_split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">game_path</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">f_games</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span><a class="headerlink" href="#deepword.utils.load_and_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Load games and split train dev set</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>game_path</strong> – game dir</p></li>
<li><p><strong>f_games</strong> – a file with list of games, each game name per line, without the</p></li>
<li><p><strong>of ulx</strong> (<em>suffix</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>train_games, dev_games</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.load_game_files">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">load_game_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">game_path</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">f_games</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>str<span class="p">]</span><a class="headerlink" href="#deepword.utils.load_game_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a dir of games, or a single game.
if game_path represents a file, then return a list of the file;
if game_path is a dir, then return a list of files in the dir suffixed with</p>
<blockquote>
<div><p>.ulx;</p>
</div></blockquote>
<dl class="simple">
<dt>if f_games is set, then load files in the game_path with names listed in</dt><dd><p>f_games.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>game_path</strong> – a dir, or a single file</p></li>
<li><p><strong>f_games</strong> – a file of game names, without suffix, default suffix .ulx</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of game files</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.load_uniq_lines">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">load_uniq_lines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fname</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>str<span class="p">]</span><a class="headerlink" href="#deepword.utils.load_uniq_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Load unique lines from a file, line order preserved</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.load_vocab">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">load_vocab</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vocab_file</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>str<span class="p">]</span><a class="headerlink" href="#deepword.utils.load_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>Load unique words from a vocabulary</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.model_name2clazz">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">model_name2clazz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.utils.model_name2clazz" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the class given the model name in this package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – Model name from <a class="reference internal" href="deepword.models.html#module-deepword.models" title="deepword.models"><code class="xref py py-mod docutils literal notranslate"><span class="pre">deepword.models</span></code></a></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the class w.r.t. the model name</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.report_status">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">report_status</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lst_of_status</span><span class="p">:</span> <span class="n">List<span class="p">[</span>Tuple<span class="p">[</span>str<span class="p">, </span>Any<span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#deepword.utils.report_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Pretty print a series of k-v pairs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>lst_of_status</strong> – A list of k-v pairs</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a string to print</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.setup_eval_log">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">setup_eval_log</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">log_filename</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.utils.setup_eval_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup log for evaluation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>log_filename</strong> – the path to log file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.setup_logging">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">setup_logging</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default_path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'logging.yaml'</span></em>, <em class="sig-param"><span class="n">default_level</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">20</span></em>, <em class="sig-param"><span class="n">env_key</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'LOG_CFG'</span></em>, <em class="sig-param"><span class="n">local_log_filename</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#deepword.utils.setup_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup logging for python project</p>
<p>Load YAML config file from <cite>default_path</cite>, or from the environment variable
set by <cite>env_key</cite>. Falls back to default config if file not exist.</p>
<p>if <cite>local_log_filename</cite> set, add a local rotating log file.</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.setup_train_log">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">setup_train_log</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_dir</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.utils.setup_train_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup log for training by putting a <cite>game_script.log</cite> in <cite>model_dir</cite>.</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.softmax">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">softmax</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#deepword.utils.softmax" title="Permalink to this definition">¶</a></dt>
<dd><p>numerical stability softmax</p>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.split_train_dev">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">split_train_dev</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">game_files</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">train_ratio</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.9</span></em>, <em class="sig-param"><span class="n">rnd_seed</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">42</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">, </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span><a class="headerlink" href="#deepword.utils.split_train_dev" title="Permalink to this definition">¶</a></dt>
<dd><p>Split train/dev sets from given game files
sort - shuffle w/ Random(42) - split</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>game_files</strong> – game files</p></li>
<li><p><strong>train_ratio</strong> – the percentage of training files</p></li>
<li><p><strong>rnd_seed</strong> – for randomly shuffle files, default = 42</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>train_games, dev_games</p>
</dd>
</dl>
<dl class="simple">
<dt>Exception:</dt><dd><p>empty game_files</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="deepword.utils.uniq">
<code class="sig-prename descclassname">deepword.utils.</code><code class="sig-name descname">uniq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lst</span></em><span class="sig-paren">)</span><a class="headerlink" href="#deepword.utils.uniq" title="Permalink to this definition">¶</a></dt>
<dd><p>order-preserving unique</p>
</dd></dl>

</div>
<div class="section" id="module-deepword">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-deepword" title="Permalink to this headline">¶</a></h2>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">deepword package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-deepword.action">deepword.action module</a></li>
<li><a class="reference internal" href="#module-deepword.dependency_parser">deepword.dependency_parser module</a></li>
<li><a class="reference internal" href="#module-deepword.eval_games">deepword.eval_games module</a></li>
<li><a class="reference internal" href="#module-deepword.floor_plan">deepword.floor_plan module</a></li>
<li><a class="reference internal" href="#module-deepword.hparams">deepword.hparams module</a></li>
<li><a class="reference internal" href="#module-deepword.log">deepword.log module</a></li>
<li><a class="reference internal" href="#module-deepword.main">deepword.main module</a></li>
<li><a class="reference internal" href="#module-deepword.stats">deepword.stats module</a></li>
<li><a class="reference internal" href="#module-deepword.sum_tree">deepword.sum_tree module</a></li>
<li><a class="reference internal" href="#module-deepword.tokenizers">deepword.tokenizers module</a></li>
<li><a class="reference internal" href="#module-deepword.trajectory">deepword.trajectory module</a></li>
<li><a class="reference internal" href="#module-deepword.tree_memory">deepword.tree_memory module</a></li>
<li><a class="reference internal" href="#module-deepword.utils">deepword.utils module</a></li>
<li><a class="reference internal" href="#module-deepword">Module contents</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/deepword.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
    <li><img src="_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.python.org/">Python</a> &#187;</li>
    
    <a href="index.html">DeepWord v4.0 documentation</a> &#187;
    

        <li class="nav-item nav-item-this"><a href="">deepword package</a></li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="search.html" method="get">
          <input placeholder="Quick search" type="text" name="q" />
          <input type="submit" value="Go" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="copyright.html">Copyright</a> 2020, Xusen Yin.
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    Last updated on None.
    
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>

  </body>
</html>